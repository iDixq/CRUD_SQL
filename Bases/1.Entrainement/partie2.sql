--------------------------------------------- -- EXERCICE 00 -- -------------------------------------------------
-------------------------- -- AFFICHER LE SALAIRE MAXIMUM AVEC LE NOM & PRENOM -- -------------------------------
-----------------------------------------------------------------------------------------------------------------
-- USE ORDER BY 

SELECT salaire, nom, prenom FROM employes WHERE salaire = (SELECT MAX(salaire) FROM employes);

----------------------------------------------------------------------------------------------------
-------------------------------------------- -- RESPONSE  -- ---------------------------------------
----------------------------------------------------------------------------------------------------

+---------+---------+-------------+
| salaire | nom     | prenom      |
+---------+---------+-------------+
|    5000 | Laborde | Jean-pierre |
+---------+---------+-------------+

--------------------------------------------- -- CHAP 01 -- -----------------------------------------------------
---- -- AFFICHER UNIQUEMENT LES EMPLOYES DU SERVICE INFORMATIQUE, COMMERCIAL & ASSISTANT -- ---------------------
-----------------------------------------------------------------------------------------------------------------
-- USE WHERE 
-- USE IN () 

SELECT * FROM employes WHERE service IN ("informatique", "commercial", "assistant");
-----------------------------------------------------------------------------------------------------------------
-------------------------------------------- -- RESPONSE  -- ----------------------------------------------------
-----------------------------------------------------------------------------------------------------------------

+---------+-----------+--------------+
| nom     | prenom    | service      |
+---------+-----------+--------------+
| Gallet  | Clement   | commercial   |
| Winter  | Thomas    | commercial   |
| Collier | Melanie   | commercial   |
| Miller  | Guillaume | commercial   |
| Perrin  | Celine    | commercial   |
| Vignal  | Mathieu   | informatique |
| Durand  | Damien    | informatique |
| Chevel  | Daniel    | informatique |
| Sennard | Emilie    | commercial   |
| Lafaye  | Stephanie | assistant    |
+---------+-----------+--------------+


--------------------------------------------- -- CHAP 02 -- -----------------------------------------------------
---- -- AFFICHER LES EMPLOYES DE TOUS LES SERVICES SAUF (INFORMATIQUE- COMMERCIAL - ASSISTANT)  -- ---------------------
-----------------------------------------------------------------------------------------------------------------
-- USE WHERE
-- USE NOT IN () 


SELECT * FROM employes WHERE service NOT IN ("informatique", "commercial", "assistant");



-----------------------------------------------------------------------------------------------------------------
-------------------------------------------- -- RESPONSE  -- ----------------------------------------------------
-----------------------------------------------------------------------------------------------------------------

+----------+-------------+---------------+
| nom      | prenom      | service       |
+----------+-------------+---------------+
| Laborde  | Jean-pierre | direction     |
| Dubar    | Chloe       | production    |
| Fellier  | Elodie      | secretariat   |
| Grand    | Fabrice     | comptabilite  |
| Blanchet | Laura       | direction     |
| Cottet   | Julien      | secretariat   |
| Desprez  | Thierry     | secretariat   |
| Thoyer   | Amandine    | communication |
| Martin   | Nathalie    | juridique     |
| Lagarde  | Benoit      | production    |
+----------+-------------+---------------+

----------------------------------------------------------- -- CHAP 03 -- ----------------------------------------------------------------
---- -- AFFICHER LES EMPLOYES DU SERVICE COMMERCIAL, AYANT UN SALAIRE INFERIEUR OU EGALE A 2000 ET AYANT ETE EMBAUCHER APRES 2010  -- ----
------------------------------------------------------------------------------------------------------------------------------------------
-- USE WHERE
-- USE AND


SELECT * FROM employes WHERE salaire <= 2000 AND YEAR(date_embauche) > 2010;


-----------------------------------------------------------------------------------------------------------------
-------------------------------------------- -- RESPONSE  -- ----------------------------------------------------
-----------------------------------------------------------------------------------------------------------------

+-------------+--------+---------+------+------------+---------------+---------+
| id_employes | prenom | nom     | sexe | service    | date_embauche | salaire |
+-------------+--------+---------+------+------------+---------------+---------+
|         933 | Emilie | Sennard | f    | commercial | 2014-09-11    |    1800 |
+-------------+--------+---------+------+------------+---------------+---------+

----------------------------------------------------------- -- CHAP 04 -- ----------------------------------------------------------------
-------------------- -- AFFICHER LES EMPLOYES DU SERVICE PRODUCTION QUI ONT UN SALAIRE DE 1900 OU UN SALAIRE DE 2300  -- -----------------
------------------------------------------------------------------------------------------------------------------------------------------
-- USE WHERE
-- USE AND & OR


SELECT * FROM employes WHERE service = "production" AND salaire = 1900 OR salaire = 2300;

-----------------------------------------------------------------------------------------------------------------
-------------------------------------------- -- RESPONSE  -- ----------------------------------------------------
-----------------------------------------------------------------------------------------------------------------

+-------------+---------+--------+------+------------+---------------+---------+
| id_employes | prenom  | nom    | sexe | service    | date_embauche | salaire |
+-------------+---------+--------+------+------------+---------------+---------+
|         388 | Clement | Gallet | m    | commercial | 2000-01-15    |    2300 |
|         417 | Chloe   | Dubar  | f    | production | 2001-09-05    |    1900 |
+-------------+---------+--------+------+------------+---------------+---------+

+-------------+--------+-------+------+------------+---------------+---------+
| id_employes | prenom | nom   | sexe | service    | date_embauche | salaire |
+-------------+--------+-------+------+------------+---------------+---------+
|         417 | Chloe  | Dubar | f    | production | 2001-09-05    |    1900 |
+-------------+--------+-------+------+------------+---------------+---------+


----------------------------------------------------------- -- CHAP 05 -- ----------------------------------------------------------------
----------------------------------------- -- AFFICHER LE NOMBRE D'EMPLOYES PAR SERVICE   -- ----------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------
-- USE COUNT()
-- AS
-- GROUP BY


SELECT service, COUNT(*) AS nombre_employes FROM employes GROUP BY service;



-----------------------------------------------------------------------------------------------------------------
-------------------------------------------- -- RESPONSE  -- ----------------------------------------------------
-----------------------------------------------------------------------------------------------------------------

+---------------+-------------+
| service       | nb_employes |
+---------------+-------------+
| assistant     |           1 |
| commercial    |           6 |
| communication |           1 |
| comptabilite  |           1 |
| direction     |           2 |
| informatique  |           3 |
| juridique     |           1 |
| production    |           2 |
| secretariat   |           3 |
+---------------+-------------+

-- GROUP BY 
-- Permet d'effectuer des regroupements

----------------------------------------------------------- -- TERMINUS -- ----------------------------------------------------------------
--------------------- -- AFFICHER LE NOMBRE D'EMPLOYES PAR SERVICE A CONDITION D'AVOIR PLUS DE DEUX EMPLOYES  -- --------------------------
-------------------------------------------------------------------------------------------------------------------------------------------
-- USE COUNT()
-- AS
-- GROUP BY
-- HAVING

SELECT service, COUNT(*) AS nombre_employes FROM employes GROUP BY service HAVING nombre_employes > 2; 


-----------------------------------------------------------------------------------------------------------------
-------------------------------------------- -- RESPONSE  -- ----------------------------------------------------
-----------------------------------------------------------------------------------------------------------------

+--------------+-------------+
| service      | nb_employes |
+--------------+-------------+
| commercial   |           6 |
| informatique |           3 |
| secretariat  |           3 |
+--------------+-------------+

-- METTRE UNE CONDITION WHERE SUR UN GROUP BY : HAVING

